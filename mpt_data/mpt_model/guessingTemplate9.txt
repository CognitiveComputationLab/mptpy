(1-r) * g1 * g2 * g3 + r * 
(1-r) * g1 * g2 * (1-g3) + r * 
(1-r) * g1 * (1-g2) * g3 + r * 
(1-r) * g1 * (1-g2) * (1-g3) + r * 
(1-r) * (1-g1) * g2 * g3 + r * 
(1-r) * (1-g1) * g2 * (1-g3) + r * 
(1-r) * (1-g1) * (1-g2) * g3 + r * 
(1-r) * (1-g1) * (1-g2) * (1-g3) * g4 + r * 
(1-r) * (1-g1) * (1-g2) * (1-g3) * (1-g4) + r * 